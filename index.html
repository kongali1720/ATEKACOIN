
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard ATEKA Coin</title>
<script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
    min-height: 100vh;
  }
  
  .card {
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
  }
  
  .card:hover {
    transform: translateY(-4px);
    background: rgba(255, 255, 255, 0.08);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }
  
  .logo-glow {
    filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.5));
    animation: pulse 3s ease-in-out infinite;
  }
  
  @keyframes pulse {
    0%, 100% { filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.5)); }
    50% { filter: drop-shadow(0 0 30px rgba(251, 191, 36, 0.8)); }
  }
  
  .gradient-text {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .stat-label {
    color: #94a3b8;
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }
  
  .stat-value {
    color: #ffffff;
    font-size: 32px;
    font-weight: 700;
    margin-top: 8px;
  }
  
  .wallet-address {
    color: #cbd5e1;
    font-size: 14px;
    font-weight: 400;
    word-break: break-all;
  }
  
  .connect-btn {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    color: #0f172a;
    font-weight: 700;
    padding: 16px 48px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 16px;
    letter-spacing: 0.02em;
  }
  
  .connect-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(251, 191, 36, 0.4);
  }
  
  .loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top-color: #fbbf24;
    animation: spin 1s ease-in-out infinite;
  }
  
  @keyframes spin {
    to { transform: rotate(360deg); }
  }
</style>
</head>
<body>
  <div class="min-h-screen flex items-center justify-center p-6">
    <div class="w-full max-w-4xl">
      
      <!-- Header -->
      <div class="text-center mb-12">
        <img src="https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/ateka-coin.png" 
             alt="ATEKA Coin" 
             class="logo-glow w-32 h-32 mx-auto mb-6"
             onerror="this.style.display='none'">
        <h1 class="text-6xl font-black gradient-text mb-4">ATEKA COIN</h1>
        <p class="text-xl text-slate-400 font-light">Dashboard Portofolio Anda</p>
      </div>

      <!-- Wallet Info -->
      <div class="card rounded-3xl p-8 mb-6">
        <div class="flex items-center justify-between mb-4">
          <span class="stat-label">Wallet Address</span>
          <div id="status-indicator" class="w-3 h-3 rounded-full bg-green-400 animate-pulse"></div>
        </div>
        <p id="wallet" class="wallet-address">0xe6a35D41C9D28b1d68529371667Cb0CD956dbD99</p>
      </div>

      <!-- Stats Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        
        <!-- Balance Card -->
        <div class="card rounded-3xl p-8">
          <div class="stat-label mb-2">Saldo ATEKA</div>
          <div id="balance" class="stat-value">
            <span class="loading"></span>
          </div>
          <div class="text-sm text-slate-500 mt-2">Total Token</div>
        </div>

        <!-- Value Card -->
        <div class="card rounded-3xl p-8">
          <div class="stat-label mb-2">Nilai Portfolio</div>
          <div id="value" class="stat-value text-amber-400">
            <span class="loading"></span>
          </div>
          <div class="text-sm text-slate-500 mt-2">Rupiah (IDR)</div>
        </div>

      </div>

      <!-- Price Info -->
      <div class="card rounded-3xl p-6 text-center">
        <div class="text-slate-400 text-sm mb-2">Harga per Token</div>
        <div class="text-2xl font-bold text-white">Rp 4.500.000</div>
      </div>

      <!-- Connect Button (hidden after connection) -->
      <div id="connect-section" class="text-center mt-8">
        <button onclick="loadBalance()" class="connect-btn">
          Connect Wallet
        </button>
        <p class="text-slate-500 text-sm mt-4">Gunakan MetaMask untuk terhubung</p>
      </div>

    </div>
  </div>

<script>
// Ganti dengan alamat kontrak ATEKA Boss
const contractAddress = "0x3b668E6f8e4522711511B85F873D6A4260eAC299";

// ABI ERC20 minimal
const abi = [
  {"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"type":"function"},
  {"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"type":"function"}
];

// Harga 1 ATEKA
const pricePerToken = 4500000; // IDR

async function loadBalance() {
  // Gunakan wallet address yang sudah ditentukan
  const wallet = "0xe6a35D41C9D28b1d68529371667Cb0CD956dbD99";
  
  if (window.ethereum) {
    try {
      const web3 = new Web3(window.ethereum);
      
      // Update UI
      document.getElementById("connect-section").style.display = "none";

      const contract = new web3.eth.Contract(abi, contractAddress);
      const decimals = await contract.methods.decimals().call();
      const balanceRaw = await contract.methods.balanceOf(wallet).call();
      const balance = balanceRaw / (10 ** decimals);
      
      document.getElementById("balance").innerHTML = balance.toLocaleString('id-ID', {maximumFractionDigits: 2});

      const valueIDR = balance * pricePerToken;
      document.getElementById("value").innerHTML = "Rp " + valueIDR.toLocaleString('id-ID', {maximumFractionDigits: 0});
      
    } catch (error) {
      console.error("Error:", error);
      alert("Gagal terhubung ke wallet. Pastikan MetaMask terinstall dan aktif.");
    }
  } else {
    alert("Install MetaMask dulu Boss! ðŸ¦Š\n\nDownload di: https://metamask.io");
  }
}

// Auto-load balance on page load
window.addEventListener('load', () => {
  loadBalance();
});
</script>
</body>
</html>
